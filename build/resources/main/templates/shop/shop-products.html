<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{shop/common/shop-layout}">

<head>
    <meta charset="UTF-8" />
    <title>Shop Products - 모두의빵 판매자센터</title>

    <style>
        /* 전체 컨테이너 */
        .products-container {
            width: 100%;
            padding: 25px;
            box-sizing: border-box;
        }

        /* 제목 */
        .page-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        /* 상단 상품 등록 버튼 */
        .top-bar {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 20px;
        }

        .btn-add-product {
            padding: 8px 16px;
            border: 1px solid #000;
            background: #fff;
            font-size: 14px;
            cursor: pointer;
            border-radius: 6px;
            transition: 0.2s;
        }
        .btn-add-product:hover {
            background: #000;
            color: #fff;
        }

        /* 상품 카드 */
        .product-card {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 18px;
            background: #fff;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .product-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        /* 좌측 정보 */
        .product-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .product-time {
            font-size: 14px;
            color: #777;
        }

        .product-name {
            font-size: 16px;
            font-weight: 600;
        }

        .product-price {
            font-size: 15px;
            font-weight: 600;
            color: #444;
        }

        /* 오른쪽 버튼 그룹 */
        .product-actions {
            display: flex;
            gap: 8px;
        }

        .btn-small {
            padding: 6px 12px;
            border: 1px solid #000;
            background: #fff;
            font-size: 13px;
            cursor: pointer;
            border-radius: 5px;
            transition: 0.2s;
        }
        .btn-small:hover {
            background: #000;
            color: #fff;
        }

        .btn-status {
            background: #f4f4f4;
        }
    </style>
</head>

<body>

<div layout:fragment="content">

    <div class="products-container">

        <!-- 페이지명 -->
        <div class="page-title">상품 관리</div>

        <!-- 상단 상품 등록 버튼 -->
        <div class="top-bar">
            <button class="btn-add-product"
                    th:onclick="|location.href='@{/shop/products/add}'|">
                상품 등록
            </button>
        </div>

        <!-- 상품 리스트 반복 -->
        <div class="product-card" th:each="p : ${productList}">
            <div class="product-row">

                <!-- 좌측 상품 정보 -->
                <div class="product-info">
                    <div class="product-time" th:text="${p.createdAt}">
                        등록일
                    </div>

                    <div class="product-name" th:text="${p.productName}">
                        상품 이름
                    </div>

                    <div class="product-price">
                        <span th:text="${p.price}"></span>원
                    </div>
                </div>

                <!-- 오른쪽 버튼 -->
                <div class="product-actions">

                    <select class="status-select"
                            th:data-id="${p.productNo}"
                            th:value="${p.status}">
                        <option value="SELLING">판매중</option>
                        <option value="STOPPED">중지</option>
                        <option value="SOLD_OUT">품절</option>
                    </select>

                    <button class="btn-small"
                            th:onclick="|location.href='@{/shop/products/edit/{id}(id=${p.productNo})}'|">
                        수정
                    </button>

                    <button class="btn-small"
                            th:onclick="|if(confirm('정말 삭제하시겠습니까?')) location.href='@{/shop/products/delete/{id}(id=${p.productNo})}'|">
                        삭제
                    </button>
                </div>

            </div>
        </div>

        <!-- 상품 없을 때 -->
        <div th:if="${productList.size() == 0}" style="text-align:center; margin-top:40px; color:#777;">
            아직 등록된 상품이 없습니다.
        </div>

    </div>

</div>

</body>
</html>
