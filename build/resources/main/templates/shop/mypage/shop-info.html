<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{shop/mypage/shop-mypage-layout}">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- CSRF 토큰 -->
    <meta name="_csrf" th:content="${_csrf.token}">
    <meta name="_csrf_header" th:content="${_csrf.headerName}">
    <!-- JQuery CDN -->
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <!-- SweetAlert2 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- SweetAlert 공통 래퍼 -->
    <script th:src="@{/js/comm/sweetalert.noah.js}"></script>
    <!-- Kakao Postcode API -->
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <!-- 개인정보 CSS -->
    <link rel="stylesheet" th:href="@{/css/shop/mypage/info.css}">

    <title>개인정보</title>
</head>

<body>
<section layout:fragment="mypage-content">

    <div class="page-title">개인정보</div>

    <div class="tab-buttons">
        <button class="tab-btn active" data-tab="info">정보 변경</button>
        <button class="tab-btn" data-tab="password">비밀번호 변경</button>
    </div>

    <!-- ================= 정보 변경 탭 ================= -->
    <div id="tab-info" class="tab-content active">

        <div class="info-row">
            <label>아이디</label>
            <input id="memberId" th:value="${member.memberId}" readonly>
        </div>

        <div class="info-row">
            <label>이름</label>
            <input th:value="${member.memberName}" readonly>
        </div>

        <div class="info-row">
            <label>휴대폰 번호</label>
            <input id="phone" th:value="${member.memberPhone}" readonly>
            <button onclick="toggleEdit(this,'phone','phone')">변경</button>
        </div>

        <div class="info-row">
            <label>이메일</label>
            <input id="email" th:value="${member.memberEmail}" readonly>
            <button onclick="toggleEdit(this,'email','email')">변경</button>
        </div>

        <div class="info-row">
            <label>생일</label>
            <input th:value="${member.memberJumin}" readonly>
        </div>

    </div>

    <!-- ================= 비밀번호 변경 탭 ================= -->
    <div id="tab-password" class="tab-content">

        <div class="info-row">
            <label>현재 비밀번호</label>
            <input type="password" id="currentPw">
        </div>

        <div class="info-row">
            <label>새 비밀번호</label>
            <input type="password" id="newPw">
        </div>

        <div class="info-row">
            <label>비밀번호 확인</label>
            <input type="password" id="confirmPw">
        </div>

        <button class="confirm-btn" onclick="changePassword()">변경</button>

    </div>

    <button class="withdraw" onclick="openWithdrawModal()">회원탈퇴</button>

    <script th:src="@{/js/shop/mypage/info.js}"></script>
</section>
</body>
</html>