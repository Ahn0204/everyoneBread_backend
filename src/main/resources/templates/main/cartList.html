<div class="cartList">
    <div class="cartListBox d-flex flex-column gap-2">
        <!--상점명-->
        <div class="shopNameBox">
            <h4 class="shopName" th:text="${shop.shopName}"></h4>
        </div>
        <!--상품 목록-->
        <div class="cart-product"></div>
        <!--주문 금액-->
        <div class="deliveryFee"></div>
        <div class="cart-totalPrice">0원</div>
        <!--주문 버튼-->
        <div class="cart-btns">
            <button class="deleteAllBtn btn btn-secondary">비우기</button>
            <button class="orderBtn btn btn-primary" th:onclick="|window.location='@{/order/orderForm}'|" disabled>주문</button>
        </div>
    </div>
</div>

<script type="text/javascript" th:inline="javascript">
    //$(document).ready()대신 사용
    $(function () {
        showCart();
        //cart 삭제
        $('.deleteAllBtn').on('click', function () {
            showConfirmAlert(
                '주문이 모두 삭제됩니다.',
                () => {
                    deleteCart();
                },
                () => {}
            );
        });

        //장바구니 비우기
        function deleteCart() {
            sessionStorage.removeItem('cart');
            location.reload(); //페이지 새로고침
        }
    });
</script>
