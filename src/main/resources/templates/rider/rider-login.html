<!--
******************************************
*  Created On : 2025. 11. 17.
*  File : rider-login.html
*******************************************
 -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="_csrf" th:content="${_csrf.token}" />
        <meta name="_csrf_header" th:content="${_csrf.headerName}" />
        <!-- JQuery CDN -->
        <script src="https://code.jquery.com/jquery-latest.min.js"></script>
        <!-- SweetAlert2 CDN -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <!-- BootStrap CDN -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" />
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" />
        <title>모두의 빵</title>
        <style>
            .link-list {
                list-style: none;
                margin: 0;
                padding: 0;
                display: flex;
                justify-content: center; /* 가로 가운데 */
                align-items: center; /* 세로 가운데 */
                flex-wrap: wrap; /* 좁은 화면에서 줄바꿈 */
            }

            .link-list li {
                display: flex;
                align-items: center; /* 텍스트와 구분선 세로정렬 */
                cursor: pointer;
            }

            /* 첫 번째를 제외한 모든 항목 앞에 | 삽입 */
            .link-list li + li::before {
                content: '|';
                margin: 0 12px; /* 구분선 좌우 간격 */
                color: #c8c8c8;
            }
        </style>
        <!-- <style>
            body {
                margin: 0 auto;
                background-color: #555;
            }

            /* 메인으로 가는 버튼*/
            .header-btn {
                position: fixed;
                right: 10px;
                top: 10px;
            }

            .container {
                width: 40vw;
                min-width: 300px;
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                padding: 10px;
            }

            /* 메인 제목 */
            .login-title h1 {
                margin-bottom: 50px;
                font-weight: 800;
                font-size: clamp(28px, 3vw, 48px);
                line-height: 1.2;
                letter-spacing: -0.4px;
                color: #ffffff; /* 흰색 텍스트 */
                text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
                position: relative;
                display: inline-block;
                padding-bottom: 16px;
                white-space: nowrap;
            }

            /* 포인트 밑줄 */
            .login-title h1::after {
                content: '';
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
                bottom: 0;
                width: 100%;
                height: 6px;
                background: #ffffff; /* 포인트 오렌지 */
                border-radius: 999px;
                box-shadow: 0 4px 12px rgba(255, 255, 255, 0.4);
            }

            /* 입력창 스타일 */
            .custom-input {
                background-color: #1e1e1e;
                color: #ffffff;
                border: 2px solid #555;
                border-radius: 8px;
            }

            .custom-input::placeholder {
                color: #bbbbbb; /* 흐린 회색 placeholder */
            }

            .custom-input:focus {
                border-color: #ffffff;
                box-shadow: 0 0 0 0.2rem rgba(255, 255, 255, 0.25);
                background-color: #1e1e1e;
                color: #ffffff;
            }

            .custom-label {
                color: #ffffff !important;
            }

            .custom-submit {
                width: 100%;
                border: 2px solid black;
                font-size: 22px;
                font-weight: bold;
            }

            .custom-submit:hover {
                border: 2px solid rgb(48, 45, 45);
            }
        </style> -->
        <style>
            body {
                margin: 0 auto;
                background-color: #555;
                font-family: 'Pretendard', sans-serif;
            }

            /* 메인으로 버튼 */
            .header-btn {
                position: fixed;
                right: 10px;
                top: 10px;
            }

            /* 메인 레이아웃 */
            .container {
                width: 40vw;
                min-width: 320px;
                max-width: 480px; /* 너무 커지는 것 방지 */
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                padding: 10px 20px;
            }
            .login-title {
                width: 100%;
                display: flex;
                justify-content: center;
            }
            /* 메인 제목 */
            .login-title h1 {
                margin-bottom: 40px;
                font-weight: 800;
                font-size: clamp(26px, 5vw, 56px); /* 작은 화면에서 26px, 큰 화면에서도 40px 이상 커지지 않음 */
                line-height: 1.3;
                letter-spacing: -0.5px;
                color: #ffffff;
                text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
                position: relative;
                display: inline-block;
                padding-bottom: 14px;
                text-align: center;
                white-space: nowrap; /* 불필요한 줄바꿈 방지 */
            }

            /* 밑줄 하이라이트 */
            .login-title h1::after {
                content: '';
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
                bottom: 0;
                width: 100%;

                height: 5px;
                background: #fff;
                border-radius: 100px;
                box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
            }

            /* 입력창 */
            .custom-input {
                background-color: #1e1e1e;
                color: #ffffff;
                border: 1.5px solid #555;
                border-radius: 8px;
                height: 52px; /* BootStrap 기본보다 약간 낮춤 */
                font-size: 16px;
            }

            .custom-input::placeholder {
                color: #bbbbbb;
            }

            .custom-input:focus {
                border-color: #ffffff;
                box-shadow: 0 0 0 0.15rem rgba(255, 255, 255, 0.25);
                background-color: #1e1e1e;
                color: #ffffff;
            }

            /* 라벨 */
            .custom-label {
                color: #ffffff !important;
                font-size: 14px;
            }

            /* 비밀번호 아이콘 위치 보정 */
            #pwToggleIcon {
                cursor: pointer;
                font-size: 20px;
                color: #bdbdbd !important;
                right: 18px !important;
            }

            /* 로그인 버튼 */
            .custom-submit {
                width: 100%;
                border: 2px solid #000;
                font-size: 20px;
                height: 54px;
                border-radius: 10px;
                background-color: transparent;
                color: #333;
                font-weight: 700;
            }

            .custom-submit:hover {
                border-color: rgb(48, 45, 45);
                background-color: rgba(255, 255, 255, 0.1);
                color: #fff;
            }

            /* 하단 링크 */
            .link-list {
                list-style: none;
                margin: 0;
                padding: 0;
                display: flex;
                justify-content: center;
                align-items: center;
                flex-wrap: wrap;
            }

            .link-list li {
                cursor: pointer;
            }

            .link-list li + li::before {
                content: '|';
                margin: 0 12px;
                color: #c8c8c8;
            }

            .btn-a {
                color: #62a0ff;
                font-size: 15px;
                text-decoration: underline;
            }

            .btn-a:hover {
                color: #8dc0ff;
            }
        </style>
    </head>
    <body>
        <div class="header-btn">
            <div class="dropdown">
                <button type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">페이지 전환</button>
                <ul class="dropdown-menu" style="margin-top: 3px">
                    <li><a class="dropdown-item" href="#">메인페이지</a></li>
                    <li><a class="dropdown-item" href="/rider/">라이더페이지</a></li>
                    <li><a class="dropdown-item" href="/shop/">판매자페이지</a></li>
                </ul>
            </div>
        </div>
        <div class="container">
            <!-- 로그인 창 위에 header-->
            <div class="login-title">
                <h1>라이더 전용 로그인</h1>
            </div>
            <!-- 로그인 card -->
            <div class="login-card">
                <!-- 로그인  form -->
                <form action="/rider/login" method="post">
                    <!-- 에러 출력 컨트롤 위치 -->
                    <!-- <div th:if="${param.error}">
                        <script>
                            showErrorTitleAlert('로그인 실패', '사용자 이름 또는 비밀번호를 확인해주세요.');
                        </script>
                        <div class="alert alert-danger text-center">사용자 이름 또는 비밀번호를 확인해주세요.</div>
                    </div> -->
                    <!-- 아이디 입력 input -->
                    <div class="form-floating mb-3">
                        <input type="text" name="riderId" id="riderId" class="form-control custom-input" placeholder="아이디" />
                        <label for="riderId" class="custom-label">아이디</label>
                    </div>
                    <!-- 비밀번호 입력 input-->
                    <div class="form-floating mb-3">
                        <input type="password" name="riderPw" id="riderPw" class="form-control custom-input" placeholder="비밀번호" />
                        <label for="password" class="custom-label">비밀번호</label>
                        <i class="bi bi-eye-slash-fill position-absolute top-50 end-0 translate-middle-y me-3" id="pwToggleIcon" style="cursor: pointer; font-size: 20px; color: #bdbdbd !important" title="비밀번호 보기"></i>
                    </div>
                    <!-- 로그인 button-->
                    <div class="mt-4">
                        <button type="submit" class="btn btn-sub custom-submit">로그인</button>
                    </div>
                </form>
            </div>
            <!-- 화면 하단 버튼 -->
            <div class="d-flex justify-content-center gap-2 my-3">
                <ul class="link-list">
                    <li><a class="btn-a" id="findRiderId">아이디 찾기</a></li>
                    <li><a class="btn-a" id="findRiderPw">비밀번호 찾기</a></li>
                    <li><a class="btn-a" th:href="@{/rider/insert}">회원가입</a></li>
                </ul>
            </div>
            <th:block th:replace="~{rider/loginModal :: loginModal}"></th:block>
            <script th:inline="javascript">
                // 모든 jQuery AJAX 요청에 CSRF 헤더 자동 첨부
                $(function () {
                    const token = $('meta[name="_csrf"]').attr('content');
                    const header = $('meta[name="_csrf_header"]').attr('content');
                    $(document).ajaxSend(function (e, xhr) {
                        if (token && header) xhr.setRequestHeader(header, token);
                    });
                });

                // 비밀번호 보기/숨기기 아이콘
                $('#pwToggleIcon').on('click', function () {
                    let pwInput = $('#riderPw');
                    if (pwInput.attr('type') == 'password') {
                        pwInput.attr('type', 'text');
                        $(this).removeClass('bi-eye-slash-fill').addClass('bi-eye-fill');
                        $(this).attr('title', '비밀번호 숨기기');
                    } else {
                        pwInput.attr('type', 'password');
                        $(this).removeClass('bi-eye-fill').addClass('bi-eye-slash-fill');
                        $(this).attr('title', '비밀번호 보기');
                    }
                });

                // 아이디 찾기
                $('#findRiderId').on('click', function () {
                    //
                });
                // 비밀번호 찾기
                $('#findRiderPw').on('click', function () {
                    //
                });
                const dropdownElementList = document.querySelectorAll('.dropdown-toggle');
                const dropdownList = [...dropdownElementList].map((dropdownToggleEl) => new bootstrap.Dropdown(dropdownToggleEl));
            </script>
        </div>
    </body>
</html>
