<!--
******************************************
*  Created On : 2025. 11. 27.
*  File : shop-list.html
*******************************************
 -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{admin/comm/admin-layout}">
    <head>
        <th:block layout:fragment="head">
            <link rel="stylesheet" th:href="@{/css/admin/comm/list-comm.css}" />
            <style>
                /*항목 너비 설정하는 레이아웃css*/
                .div-cols {
                    /*항목을 담는 div에 지정*/
                    display: flex;
                    flex-direction: row;
                    width: 100%;
                    padding: 20px 10px 10px 20px;
                }
                .div-col-1 {
                    flex: 0.7;
                } /* 번호 */
                .div-col-2 {
                    flex: 1.5;
                }
                .div-col-3 {
                    flex: 1;
                }
                .div-col-4 {
                    flex: 2;
                }
                .div-col-7 {
                    flex: 0.2;
                } /* 펼치기 버튼 칸 */
            </style>
        </th:block>
    </head>
    <body>
        <div layout:fragment="content">
            <div class="listAndList-header m-2">
                <div class="list-header"><h3>신고 문의</h3></div>
                <div calss="list" style="max-width: 1000px; min-width: 800px">
                    <div class="div-cols border-bottom border-3 border-dark fw-b text-center">
                        <div class="div-col-1 fw-bold">번호</div>
                        <div class="div-col-2 fw-bold">작성자</div>
                        <div class="div-col-2 fw-bold">내용</div>
                        <div class="div-col-3 fw-bold">상태</div>
                        <div class="div-col-4 fw-bold">&nbsp;작성일시&nbsp;</div>
                        <div class="div-col-4 fw-bold">&nbsp;답변일시&nbsp;</div>
                        <div class="div-col-7"></div>
                    </div>
                    <!--문의 내역이 없을 때-->
                    <div th:if="${noInquiry}">
                        <div class="p-2 flex-fill" th:text="${noInquiry}"></div>
                    </div>
                    <!--문의 내역이 있을 때-->
                    <div th:unless="${noInquiry}">
                        <!--아코디언 속성이 적용된 리스트-->
                        <div class="accordion" id="inquiry-List">
                            <!--미답변 리스트-->
                            <!--항목 1개 : 목록에서 보이는 헤더 + 클릭 시 나타나는 바디 구성-->
                            <div class="accordion-item" th:each="i, loop : ${pendingList}">
                                <!--내역마다 반복되는 출력부 fragment, 글번호 시작값 전달-->
                                <div th:replace="~{/admin/inquiry/banInquiry-common(start=${pendingStart})}"></div>
                            </div>
                            <!--답변완료 리스트-->
                            <div class="accordion-item" th:each="i,loop : ${answeredList}">
                                <div th:replace="~{/admin/inquiry/banInquiry-common(start=${answeredStart})}"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--페이지 블럭-->
                <div th:unless="${noInquiry}">
                    <ul class="pagination justify-content-center p-2">
                        <!--이전 버튼-->
                        <li class="page-item" th:classappend="${!inquiryP.hasPrevious} ? 'disabled' ">
                            <a class="page-link" th:text="이전" th:href="@{|?page=${inquiryP.number-1}|}"></a>
                        </li>
                        <!--페이지 숫자 버튼-->
                        <li class="page-item" th:each="pageNum : ${#numbers.sequence(0,inquiryP.totalPages-1)}" th:classappend="${pageNum == inquiryP.number} ? 'active'">
                            <a class="page-link" th:href="@{|?page=${pageNum}|}" th:text="${pageNum}+1"></a>
                        </li>
                        <!--다음 버튼-->
                        <li class="page-item" th:classappend="${!inquiryP.hasNext} ? 'disabled'">
                            <a class="page-link" th:href="@{|?page=${inquiryP.number+1}|}" th:text="다음"></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!--레이아웃의 script 부분에 아래 내용이 출력됨-->
        <script layout:fragment="script" th:inline="javascript" th:src="@{/js/admin/inquiry/banInquiry-list.js}"></script>
    </body>
</html>
