<!-- shop-header fragment -->
<header th:fragment="shop-header"
        class="bg-body-tertiary position-sticky top-0"
        style="z-index:1030"
        xmlns:th="http://www.thymeleaf.org"
        xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

    <!-- shop header css -->
    <link rel="stylesheet" th:href="@{/css/shop/comm/header.css}">

    <!-- CSRF -->
    <meta name="_csrf" th:content="${_csrf.token}">
    <meta name="_csrf_header" th:content="${_csrf.headerName}">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>

    <nav class="navbar bg-body-tertiary">
        <div class="container-fluid">

            <!-- 왼쪽 : 상점 정보 -->
            <div class="shop-header-left" onclick="location.href='/shop/'">
                <div class="shop-img-box">상점</div>
                <div class="shop-name">상점명</div>
            </div>

            <!-- 가운데 : 메뉴 (정중앙) -->
            <div class="shop-menu">
                <a href="/shop/products">상품 관리</a>
                <a href="/shop/orders">주문 관리</a>
                <a href="/shop/reviews">후기 · 문의</a>
            </div>

            <!-- 오른쪽 : 유저 영역 -->
            <div class="user-util" sec:authorize="isAuthenticated()">

                <!-- 🔔 알림 -->
                <div class="alert-wrapper">
                    <button id="alertBtn">
                        알림
                        <span class="alert-badge-count" style="display:none"></span>
                    </button>

                    <!-- 알림 패널 -->
                    <div class="alert-panel" id="alertPanel" style="display:none">

                        <!-- 헤더 -->
                        <div class="alert-header">
                            <span>알림</span>
                            <button type="button" class="alert-close" id="alertCloseBtn">✕</button>
                        </div>

                        <!-- 탭 -->
                        <div class="alert-tabs">
                            <button class="alert-tab active" data-tab="all">전체</button>
                            <button class="alert-tab" data-tab="unread">읽지않음</button>
                        </div>

                        <!-- 리스트 -->
                        <ul id="alertList">
                            <li class="alert-empty">새 알림이 없습니다.</li>
                        </ul>
                    </div>
                </div>

                <!-- 내 정보 -->
                <button onclick="location.href='/shop/mypage'">내 정보</button>

                <!-- 로그아웃 -->
                <a href="/shop/logout">로그아웃</a>
            </div>
        </div>
    </nav>

    <!-- 알림 JS-->
    <script th:src="@{/js/shop/comm/header.js}"></script>
</header>