<!--
******************************************
*  Created On : 2025. 12. 15.
*  File : alert-modal.html
*******************************************
 -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="_csrf" th:content="${_csrf.token}" />
        <meta name="_csrf_header" th:content="${_csrf.headerName}" />
        <!-- JQuery CDN -->
        <script src="https://code.jquery.com/jquery-latest.min.js"></script>
        <!-- SweetAlert2 CDN -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <!-- BootStrap CDN -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous" />
        <title>ÏïåÎ¶ºÏ∞Ω</title>
        <style>
            .alert-wrapper {
                position: relative;
            }

            .alert-panel {
                position: absolute;
                top: 100%;
                right: 0;
                width: 320px;
                max-height: 400px;
                background: #fff;
                border-radius: 12px;
                box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
                z-index: 9999;
                overflow-y: auto;
            }
        </style>
    </head>
    <body>
        <div class="alert-wrapper">
            <button id="alertBtn" class="alert-btn">
                üîî
                <span class="badge" id="alertCount">3</span>
            </button>

            <div id="alertPanel" class="alert-panel" style="display: none">
                <div class="panel-header">
                    ÏïåÎ¶º
                    <a href="/alerts" class="more">Ï†ÑÏ≤¥Î≥¥Í∏∞</a>
                </div>
                <ul id="alertList"></ul>
            </div>
        </div>

        <script th:inline="javascript">
            // Î™®Îì† jQuery AJAX ÏöîÏ≤≠Ïóê CSRF Ìó§Îçî ÏûêÎèô Ï≤®Î∂Ä
            $(function () {
                const token = $('meta[name="_csrf"]').attr('content');
                const header = $('meta[name="_csrf_header"]').attr('content');
                $(document).ajaxSend(function (e, xhr) {
                    if (token && header) xhr.setRequestHeader(header, token);
                });
            });

            $('#alertBtn').on('click', function (e) {
                e.stopPropagation();
                $('#alertPanel').toggle();
            });

            $(document).on('click', function () {
                $('#alertPanel').hide();
            });
        </script>
    </body>
</html>
